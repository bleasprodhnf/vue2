{"ast":null,"code":"import _defineProperty from \"C:/ysx/xm/mark/web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.push.js\";\nclass Emitter {\n  constructor() {\n    _defineProperty(this, \"events\", void 0);\n    this.events = {};\n  }\n  emit(event, data) {\n    if (this.events[event]) {\n      this.events[event].forEach(fn => {\n        return fn(data);\n      });\n    }\n    return this;\n  }\n  on(event, fn) {\n    if (this.events[event]) {\n      this.events[event].push(fn);\n    } else {\n      this.events[event] = [fn];\n    }\n    return this;\n  }\n  off(event, fn) {\n    if (event && typeof fn === 'function' && this.events[event]) {\n      const listeners = this.events[event];\n      if (!listeners || listeners.length === 0) {\n        return;\n      }\n      const index = listeners.findIndex(_fn => {\n        return _fn === fn;\n      });\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n    }\n    return this;\n  }\n}\nexport default Emitter;","map":{"version":3,"names":["Emitter","constructor","_defineProperty","events","emit","event","data","forEach","fn","on","push","off","listeners","length","index","findIndex","_fn","splice"],"sources":["C:/ysx/xm/mark/web/node_modules/open-im-sdk-wasm/lib/utils/emitter.js"],"sourcesContent":["class Emitter {\n    events;\n    constructor() {\n        this.events = {};\n    }\n    emit(event, data) {\n        if (this.events[event]) {\n            this.events[event].forEach(fn => {\n                return fn(data);\n            });\n        }\n        return this;\n    }\n    on(event, fn) {\n        if (this.events[event]) {\n            this.events[event].push(fn);\n        }\n        else {\n            this.events[event] = [fn];\n        }\n        return this;\n    }\n    off(event, fn) {\n        if (event && typeof fn === 'function' && this.events[event]) {\n            const listeners = this.events[event];\n            if (!listeners || listeners.length === 0) {\n                return;\n            }\n            const index = listeners.findIndex(_fn => {\n                return _fn === fn;\n            });\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n        return this;\n    }\n}\nexport default Emitter;\n"],"mappings":";;AAAA,MAAMA,OAAO,CAAC;EAEVC,WAAWA,CAAA,EAAG;IAAAC,eAAA;IACV,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;EACpB;EACAC,IAAIA,CAACC,KAAK,EAAEC,IAAI,EAAE;IACd,IAAI,IAAI,CAACH,MAAM,CAACE,KAAK,CAAC,EAAE;MACpB,IAAI,CAACF,MAAM,CAACE,KAAK,CAAC,CAACE,OAAO,CAACC,EAAE,IAAI;QAC7B,OAAOA,EAAE,CAACF,IAAI,CAAC;MACnB,CAAC,CAAC;IACN;IACA,OAAO,IAAI;EACf;EACAG,EAAEA,CAACJ,KAAK,EAAEG,EAAE,EAAE;IACV,IAAI,IAAI,CAACL,MAAM,CAACE,KAAK,CAAC,EAAE;MACpB,IAAI,CAACF,MAAM,CAACE,KAAK,CAAC,CAACK,IAAI,CAACF,EAAE,CAAC;IAC/B,CAAC,MACI;MACD,IAAI,CAACL,MAAM,CAACE,KAAK,CAAC,GAAG,CAACG,EAAE,CAAC;IAC7B;IACA,OAAO,IAAI;EACf;EACAG,GAAGA,CAACN,KAAK,EAAEG,EAAE,EAAE;IACX,IAAIH,KAAK,IAAI,OAAOG,EAAE,KAAK,UAAU,IAAI,IAAI,CAACL,MAAM,CAACE,KAAK,CAAC,EAAE;MACzD,MAAMO,SAAS,GAAG,IAAI,CAACT,MAAM,CAACE,KAAK,CAAC;MACpC,IAAI,CAACO,SAAS,IAAIA,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;QACtC;MACJ;MACA,MAAMC,KAAK,GAAGF,SAAS,CAACG,SAAS,CAACC,GAAG,IAAI;QACrC,OAAOA,GAAG,KAAKR,EAAE;MACrB,CAAC,CAAC;MACF,IAAIM,KAAK,KAAK,CAAC,CAAC,EAAE;QACdF,SAAS,CAACK,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;MAC9B;IACJ;IACA,OAAO,IAAI;EACf;AACJ;AACA,eAAed,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}