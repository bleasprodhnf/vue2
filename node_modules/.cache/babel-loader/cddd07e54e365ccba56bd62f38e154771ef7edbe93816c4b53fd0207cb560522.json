{"ast":null,"code":"import { DatabaseErrorCode } from '../../constant';\nimport { batchInsertTempCacheMessageList as databseBatchInsertTempCacheMessageList } from '../../sqls';\nimport { convertToSnakeCaseObject, formatResponse } from '../../utils';\nimport { getInstance } from './instance';\nexport async function batchInsertTempCacheMessageList(messageListStr) {\n  try {\n    const db = await getInstance();\n    const messageList = JSON.parse(messageListStr).map(v => convertToSnakeCaseObject(v));\n    const execResult = databseBatchInsertTempCacheMessageList(db, messageList);\n    return formatResponse(execResult[0]);\n  } catch (e) {\n    console.error(e);\n    return formatResponse(undefined, DatabaseErrorCode.ErrorInit, JSON.stringify(e));\n  }\n}\nexport async function InsertTempCacheMessage(messageStr) {\n  return batchInsertTempCacheMessageList(`[${messageStr}]`);\n}","map":{"version":3,"names":["DatabaseErrorCode","batchInsertTempCacheMessageList","databseBatchInsertTempCacheMessageList","convertToSnakeCaseObject","formatResponse","getInstance","messageListStr","db","messageList","JSON","parse","map","v","execResult","e","console","error","undefined","ErrorInit","stringify","InsertTempCacheMessage","messageStr"],"sources":["C:/ysx/xm/mark/web/node_modules/open-im-sdk-wasm/lib/api/database/tempCacheChatLogs.js"],"sourcesContent":["import { DatabaseErrorCode } from '../../constant';\nimport { batchInsertTempCacheMessageList as databseBatchInsertTempCacheMessageList, } from '../../sqls';\nimport { convertToSnakeCaseObject, formatResponse } from '../../utils';\nimport { getInstance } from './instance';\nexport async function batchInsertTempCacheMessageList(messageListStr) {\n    try {\n        const db = await getInstance();\n        const messageList = JSON.parse(messageListStr).map((v) => convertToSnakeCaseObject(v));\n        const execResult = databseBatchInsertTempCacheMessageList(db, messageList);\n        return formatResponse(execResult[0]);\n    }\n    catch (e) {\n        console.error(e);\n        return formatResponse(undefined, DatabaseErrorCode.ErrorInit, JSON.stringify(e));\n    }\n}\nexport async function InsertTempCacheMessage(messageStr) {\n    return batchInsertTempCacheMessageList(`[${messageStr}]`);\n}\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,gBAAgB;AAClD,SAASC,+BAA+B,IAAIC,sCAAsC,QAAS,YAAY;AACvG,SAASC,wBAAwB,EAAEC,cAAc,QAAQ,aAAa;AACtE,SAASC,WAAW,QAAQ,YAAY;AACxC,OAAO,eAAeJ,+BAA+BA,CAACK,cAAc,EAAE;EAClE,IAAI;IACA,MAAMC,EAAE,GAAG,MAAMF,WAAW,CAAC,CAAC;IAC9B,MAAMG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACJ,cAAc,CAAC,CAACK,GAAG,CAAEC,CAAC,IAAKT,wBAAwB,CAACS,CAAC,CAAC,CAAC;IACtF,MAAMC,UAAU,GAAGX,sCAAsC,CAACK,EAAE,EAAEC,WAAW,CAAC;IAC1E,OAAOJ,cAAc,CAACS,UAAU,CAAC,CAAC,CAAC,CAAC;EACxC,CAAC,CACD,OAAOC,CAAC,EAAE;IACNC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChB,OAAOV,cAAc,CAACa,SAAS,EAAEjB,iBAAiB,CAACkB,SAAS,EAAET,IAAI,CAACU,SAAS,CAACL,CAAC,CAAC,CAAC;EACpF;AACJ;AACA,OAAO,eAAeM,sBAAsBA,CAACC,UAAU,EAAE;EACrD,OAAOpB,+BAA+B,CAAE,IAAGoB,UAAW,GAAE,CAAC;AAC7D"},"metadata":{},"sourceType":"module","externalDependencies":[]}